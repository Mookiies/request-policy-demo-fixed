(this["webpackJsonprequest-policy-demo-fixed"]=this["webpackJsonprequest-policy-demo-fixed"]||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n.n(c),o=n(20),i=n.n(o),a=(n(30),n(11)),s=n(6),d=n(10),u=n(14),j=n(0),l=n(24),b=n(22),h=n(3),O=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h4",{children:"Error"}),Object(h.jsx)("p",{children:"Something went wrong"}),Object(h.jsxs)("p",{children:["Message: ",e.children]})]})};O.displayName="Error";var g=function(){return Object(h.jsx)("p",{children:"Loading..."})};g.displayName="Loading";var p=function(e){var t=e.id,n=e.complete,c=e.text,r=Object(d.b)(f),o=Object(a.a)(r,2),i=o[0],s=o[1];return Object(h.jsxs)("li",{onClick:function(){return s({id:t})},children:[Object(h.jsx)("p",{className:n?"strikethrough":"",children:c}),i.fetching&&Object(h.jsx)("span",{children:"(updating)"})]})};p.displayName="Todo";var x,f="\n  mutation($id: ID!) {\n    toggleTodo(id: $id) {\n      id\n    }\n  }\n",m=n(21),y=n(25),v=function(){var e=Object(d.c)({query:q}),t=Object(a.a)(e,2),n=t[0],r=(t[1],Object(c.useMemo)((function(){return n.fetching||!n.data?Object(h.jsx)(g,{}):n.error?Object(h.jsx)(O,{children:n.error.message}):Object(h.jsx)("ul",{children:n.data.todos.map((function(e){return Object(h.jsx)(p,Object(u.a)({},e),e.id)}))})}),[n]));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Todos"}),r]})};v.displayName="Todos";var k,q=Object(y.a)(x||(x=Object(m.a)(["\n  query {\n    todos {\n      id\n      text\n      complete\n    }\n  }\n"]))),w=Object(b.a)({idbName:"graphcache-v3",maxAge:7}),T=Object(l.a)({storage:w}),F=Object(s.a)({url:"https://0ufyz-4000.sse.codesandbox.io",exchanges:[s.b,(k={ttl:5e3,shouldUpgrade:function(e){return console.log("upgrading",e),!0}},function(e){var t=e.forward,n=new Map,c=(k||{}).ttl||3e5,r=function(e){return"query"!==e.kind||"cache-first"!==e.context.requestPolicy&&"cache-only"!==e.context.requestPolicy?e:(new Date).getTime()-(n.get(e.key)||0)>c&&(!k.shouldUpgrade||k.shouldUpgrade(e))?Object(s.e)(e.kind,e,Object(u.a)(Object(u.a)({},e.context),{},{requestPolicy:"cache-and-network"})):e},o=function(e){var t=e.operation.context.meta;(!t||"miss"===t.cacheOutcome)&&n.set(e.operation.key,(new Date).getTime())};return function(e){return Object(j.p)(t(Object(j.p)(e,Object(j.j)(r))),Object(j.y)(o))}}),T,s.c],requestPolicy:"cache-first"}),N=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(h.jsx)(d.a,{value:F,children:Object(h.jsxs)("main",{children:[Object(h.jsx)("button",{onClick:function(){r((function(e){return!e}))},children:"Toggle todos"}),n?Object(h.jsx)(v,{}):null]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root")),P()}},[[32,1,2]]]);
//# sourceMappingURL=main.c9709228.chunk.js.map