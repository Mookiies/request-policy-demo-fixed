(this["webpackJsonprequest-policy-demo"]=this["webpackJsonprequest-policy-demo"]||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n.n(c),i=n(19),o=n.n(i),s=(n(31),n(11)),a=n(6),d=n(9),j=n(22),u=n(24),l=n(21),b=n(3),h=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{children:"Error"}),Object(b.jsx)("p",{children:"Something went wrong"}),Object(b.jsxs)("p",{children:["Message: ",e.children]})]})};h.displayName="Error";var O=function(){return Object(b.jsx)("p",{children:"Loading..."})};O.displayName="Loading";var g=function(e){var t=e.id,n=e.complete,c=e.text,r=Object(d.b)(p),i=Object(s.a)(r,2),o=i[0],a=i[1];return Object(b.jsxs)("li",{onClick:function(){return a({id:t})},children:[Object(b.jsx)("p",{className:n?"strikethrough":"",children:c}),o.fetching&&Object(b.jsx)("span",{children:"(updating)"})]})};g.displayName="Todo";var x,p="\n  mutation($id: ID!) {\n    toggleTodo(id: $id) {\n      id\n    }\n  }\n",m=n(20),f=n(25),v=n(26),y=function(){var e=Object(d.c)({query:T}),t=Object(s.a)(e,2),n=t[0],r=(t[1],Object(c.useMemo)((function(){return n.fetching||!n.data?Object(b.jsx)(O,{}):n.error?Object(b.jsx)(h,{children:n.error.message}):Object(b.jsx)("ul",{children:n.data.todos.map((function(e){return Object(b.jsx)(g,Object(f.a)({},e),e.id)}))})}),[n]));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Todos"}),r]})};y.displayName="Todos";var T=Object(v.a)(x||(x=Object(m.a)(["\n  query {\n    todos {\n      id\n      text\n      complete\n    }\n  }\n"]))),F=Object(l.a)({idbName:"graphcache-v3",maxAge:7}),N=Object(u.a)({storage:F}),k=Object(a.a)({url:"https://0ufyz-4000.sse.codesandbox.io",exchanges:[a.b,Object(j.a)({ttl:2e3,shouldUpgrade:function(e){return console.log("upgrading",e),!0}}),N,a.c],requestPolicy:"cache-first"}),q=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(b.jsx)(d.a,{value:k,children:Object(b.jsxs)("main",{children:[Object(b.jsx)("button",{onClick:function(){r((function(e){return!e}))},children:"Toggle todos"}),n?Object(b.jsx)(y,{}):null]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root")),C()}},[[33,1,2]]]);
//# sourceMappingURL=main.e3c672a1.chunk.js.map